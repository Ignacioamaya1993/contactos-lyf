<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login – Contactos LyF</title>
</head>
<body>

  <h2>Iniciar sesión</h2>

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Contraseña">

  <button id="loginBtn">Ingresar</button>

  <p id="error" style="color:red"></p>

<script type="module">
  import { login, authObserver } from "../scripts/auth.js";

  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");
  const errorEl = document.getElementById("error");

  authObserver(user => {
    if (user) {
      window.location.href = "/pages/contactos.html";
    }
  });

  document.getElementById("loginBtn").onclick = async () => {
    try {
      await login(emailInput.value, passwordInput.value);
    } catch (e) {
      errorEl.textContent = e.message;
    }
  };
</script>

</body>
</html>